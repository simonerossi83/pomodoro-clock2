{"ast":null,"code":"import _slicedToArray from\"/Users/simon/Desktop/DevProjects/pomodoro-clock2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import logo from\"./logo.svg\";import'./App.css';import React from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Break=function Break(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"break-label\",className:\"row text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Break length\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:[\"fas\",\"long-arrow-alt-up\"],id:\"break-increment\",onClick:props.increment,className:\"icon\"}),/*#__PURE__*/_jsx(\"div\",{id:\"break-length\",className:\"inlineSpan\",children:props.length}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:[\"fas\",\"long-arrow-alt-down\"],id:\"break-decrement\",onClick:props.decrement,className:\"icon\"})]})})]});};var Session=function Session(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"session-label\",className:\"row text-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Session length\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:[\"fas\",\"long-arrow-alt-up\"],id:\"session-increment\",onClick:props.increment,className:\"icon\"}),/*#__PURE__*/_jsx(\"div\",{id:\"session-length\",className:\"inlineSpan\",children:props.length}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:[\"fas\",\"long-arrow-alt-down\"],id:\"session-decrement\",onClick:props.decrement,className:\"icon\"})]})})]});};//-------------------------------- FORMATTAZIONE DEL TEMPO -----------------------------------\nfunction formatTime(time){var minutes=Math.floor(time/60);var seconds=time%60;if(seconds<10){seconds=\"0\".concat(seconds);}if(minutes<10){minutes=\"0\".concat(minutes);}return\"\".concat(minutes,\":\").concat(seconds);}//----------- DEFINIZIONE DELL'OROLOGIO VERO E PROPRIO ----------------------------------------\nfunction App(){var _React$useState=React.useState(5),_React$useState2=_slicedToArray(_React$useState,2),breakLength=_React$useState2[0],setBreakLength=_React$useState2[1];var _React$useState3=React.useState(300),_React$useState4=_slicedToArray(_React$useState3,2),breakTimer=_React$useState4[0],setBreakTimer=_React$useState4[1];var _React$useState5=React.useState(25),_React$useState6=_slicedToArray(_React$useState5,2),sessionLength=_React$useState6[0],setSessionLength=_React$useState6[1];var _React$useState7=React.useState(1500),_React$useState8=_slicedToArray(_React$useState7,2),sessionTimer=_React$useState8[0],setSessionTimer=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),play=_React$useState10[0],setPlay=_React$useState10[1];var _React$useState11=React.useState(0),_React$useState12=_slicedToArray(_React$useState11,2),reset=_React$useState12[0],setReset=_React$useState12[1];var _React$useState13=React.useState(true),_React$useState14=_slicedToArray(_React$useState13,2),isSession=_React$useState14[0],setIsSession=_React$useState14[1];//-------------GESTISCO INCREMENTO -------------------\nvar handleClickIncrement=function handleClickIncrement(event){switch(event.target.id){case\"break-increment\":if(breakLength===60){event.target.id.disabled=true;break;}else setBreakLength(function(prev){return prev+1;});setBreakTimer(function(prev){return prev+60;});break;case\"session-increment\":if(sessionLength===60){event.target.id.disabled=true;break;}else setSessionLength(function(prev){return prev+1;});setSessionTimer(function(prev){return prev+60;});break;}};//-------------GESTISCO DECREMENTO -------------------\nvar handleClickDecrement=function handleClickDecrement(event){switch(event.target.id){case\"break-decrement\":if(breakLength===1){event.target.id.disabled=true;break;}else setBreakLength(function(prev){return prev-1;});setBreakTimer(function(prev){return prev-60;});break;case\"session-decrement\":if(sessionLength===1){event.target.id.disabled=true;break;}else setSessionLength(function(prev){return prev-1;});setSessionTimer(function(prev){return prev-60;});break;}};//-------------- GESTISCO TASTO PLAY ----------------\nvar handlePressPlay=function handlePressPlay(){setPlay(function(prev){return!prev;});};//------------- GESTISTCO TASTO RESET --------------\nvar handlePressReset=function handlePressReset(){setBreakLength(5);setBreakTimer(300);setSessionLength(25);setSessionTimer(1500);setPlay(false);setReset(1);setIsSession(true);document.getElementById('beep').pause();document.getElementById('beep').currentTime=0;};//---------------------------  CONTO ALLA ROVESCIA ----------------------------------\nReact.useEffect(function(){if(play&&isSession){//sono nella Session\nconsole.log(document.getElementById('time-left').innerText);var myInterval=setInterval(function(){if(sessionTimer<=sessionLength)document.getElementById('beep').play();if(sessionTimer<sessionLength){// AAAAAAAAAAAAA DA RIPORTARE A sessionLength!!!!!!\nclearInterval(myInterval);setIsSession(false);setSessionTimer(sessionLength*60);}else setSessionTimer(function(prev){return prev-1;});},1000);return function(){clearInterval(myInterval);};}if(play&&!isSession){var _myInterval=setInterval(function(){if(breakTimer<=breakLength)document.getElementById('beep').play();if(breakTimer<breakLength){// AAAAAAAAAAAAA DA RIPORTARE A breakLength!!!!!!!!!!\nclearInterval(_myInterval);setIsSession(true);setBreakTimer(breakLength*60);}else setBreakTimer(function(prev){return prev-1;});},1000);return function(){clearInterval(_myInterval);};}},[play,isSession,sessionTimer,breakTimer]);return/*#__PURE__*/_jsx(\"div\",{className:\"banner container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"clock\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My pomodoro clock!\"}),/*#__PURE__*/_jsx(\"audio\",{id:\"beep\",controls:true,src:\"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(Break,{length:breakLength,increment:handleClickIncrement,decrement:handleClickDecrement})}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(Session,{length:sessionLength,increment:handleClickIncrement,decrement:handleClickDecrement})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col text-right\",children:/*#__PURE__*/_jsx(\"h2\",{id:\"timer-label\",children:isSession?\"Session\":\"Break\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"time-left\",className:\"col text-start\",children:isSession?formatTime(sessionTimer):formatTime(breakTimer)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:[\"fas\",\"play\"],id:\"start_stop\",onClick:handlePressPlay,className:\"icon\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:[\"fas\",\"history\"],id:\"reset\",onClick:handlePressReset,className:\"icon\"})]})})]})});}export default App;","map":{"version":3,"sources":["/Users/simon/Desktop/DevProjects/pomodoro-clock2/src/App.js"],"names":["React","FontAwesomeIcon","Break","props","increment","length","decrement","Session","formatTime","time","minutes","Math","floor","seconds","App","useState","breakLength","setBreakLength","breakTimer","setBreakTimer","sessionLength","setSessionLength","sessionTimer","setSessionTimer","play","setPlay","reset","setReset","isSession","setIsSession","handleClickIncrement","event","target","id","disabled","prev","handleClickDecrement","handlePressPlay","handlePressReset","document","getElementById","pause","currentTime","useEffect","console","log","innerText","myInterval","setInterval","clearInterval"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nconst Break = props =>{\n  return(\n    <>\n  <div id=\"break-label\" className=\"row text-center\">\n      <div className=\"col\">\n    <h2>Break length</h2>\n      </div>\n    </div>\n      <div className=\"row text-center\">\n        <div className=\"col\">\n        <FontAwesomeIcon icon={[\"fas\", \"long-arrow-alt-up\"]} id=\"break-increment\" onClick={props.increment} className=\"icon\"/>\n      <div id=\"break-length\" className=\"inlineSpan\">{props.length}</div>\n      <FontAwesomeIcon icon={[\"fas\", \"long-arrow-alt-down\"]} id=\"break-decrement\" onClick={props.decrement} className=\"icon\"/>\n      </div>  \n       </div>\n      </>\n  )\n}\n\nconst Session = props =>{\n  return(\n  <>\n    <div id=\"session-label\" className=\"row text-center\">\n      <div className=\"col\">\n    <h2>Session length</h2>\n         </div>\n    </div>\n      <div className=\"row text-center\">\n        <div className=\"col\">\n      \n      <FontAwesomeIcon icon={[\"fas\", \"long-arrow-alt-up\"]} id=\"session-increment\" onClick={props.increment} className=\"icon\"/>\n      <div id=\"session-length\" className=\"inlineSpan\">{props.length}</div>\n      <FontAwesomeIcon icon={[\"fas\", \"long-arrow-alt-down\"]} id=\"session-decrement\" onClick={props.decrement} className=\"icon\"/>\n  </div>\n    </div>\n    </>\n  )\n}\n//-------------------------------- FORMATTAZIONE DEL TEMPO -----------------------------------\nfunction formatTime(time) {\n  let minutes = Math.floor(time/60);\n  let seconds = time % 60;\n  \n  if (seconds < 10) {\n    seconds = `0${seconds}`;\n  }\n  \n  if (minutes < 10) {\n    minutes = `0${minutes}`;\n  }\n\n  return `${minutes}:${seconds}`;\n}\n\n\n\n//----------- DEFINIZIONE DELL'OROLOGIO VERO E PROPRIO ----------------------------------------\n\nfunction App() {\n  const [breakLength, setBreakLength] = React.useState(5);\n  const [breakTimer, setBreakTimer] = React.useState(300);   \n  const [sessionLength, setSessionLength] = React.useState(25);\n  const [sessionTimer, setSessionTimer] = React.useState(1500); \n  const [play, setPlay] = React.useState(false);\n  const [reset, setReset] = React.useState(0);\n  const [isSession, setIsSession] = React.useState(true);\n  \n  \n  //-------------GESTISCO INCREMENTO -------------------\n  const handleClickIncrement = event => {\n    switch (event.target.id) {\n      case \"break-increment\": \n         if(breakLength === 60) {\n          event.target.id.disabled = true;\n          break;\n        } else\n        setBreakLength(prev => prev + 1); \n        setBreakTimer(prev => prev + 60);\n        break;\n      case \"session-increment\": \n         if(sessionLength === 60) {\n          event.target.id.disabled = true;\n          break;\n        } else\n        setSessionLength(prev => prev + 1); \n        setSessionTimer(prev => prev + 60);\n        break;\n    }\n    \n  }\n     //-------------GESTISCO DECREMENTO -------------------\n    const handleClickDecrement = event => {\n    switch (event.target.id) {\n      case \"break-decrement\": \n        if(breakLength === 1) {\n          event.target.id.disabled = true;\n          break;\n        } else\n          setBreakLength(prev => prev - 1); \n          setBreakTimer(prev => prev - 60);\n        break;\n      case \"session-decrement\": \n        if(sessionLength === 1) {\n          event.target.id.disabled = true;\n          break;\n        } else\n        setSessionLength(prev => prev - 1); \n        setSessionTimer(prev => prev - 60);\n        break;\n    }\n    \n  }\n    \n //-------------- GESTISCO TASTO PLAY ----------------\n    const handlePressPlay = () => {\n           setPlay(prev => !prev);\n    }\n    \n    \n    //------------- GESTISTCO TASTO RESET --------------\n    const handlePressReset = () => {\n      setBreakLength(5);\n      setBreakTimer(300);\n      setSessionLength(25);\n      setSessionTimer(1500);\n      setPlay(false);\n      setReset(1);\n      setIsSession(true);\n      document.getElementById('beep').pause();\n      document.getElementById('beep').currentTime = 0;\n    }\n    \n    //---------------------------  CONTO ALLA ROVESCIA ----------------------------------\n \n    \n  React.useEffect(() => {\n    \n    if(play && isSession) {  //sono nella Session\n    console.log(document.getElementById('time-left').innerText);\n    let myInterval = setInterval(() => {\n      if(sessionTimer <= sessionLength)\n        document.getElementById('beep').play();\n      if(sessionTimer < sessionLength){  // AAAAAAAAAAAAA DA RIPORTARE A sessionLength!!!!!!\n        \n        clearInterval(myInterval);\n        \n        setIsSession(false);\n        setSessionTimer(sessionLength*60);\n       \n      }\n      else\n      setSessionTimer(prev => prev-1);\n  }, 1000)\n    return () => {\n      clearInterval(myInterval);\n    };\n}\n    if(play && !isSession)\n      {\n        let myInterval = setInterval(() => {\n           if(breakTimer <= breakLength)\n             document.getElementById('beep').play();\n      if(breakTimer < breakLength){  // AAAAAAAAAAAAA DA RIPORTARE A breakLength!!!!!!!!!!\n        clearInterval(myInterval);\n        \n        setIsSession(true);\n        setBreakTimer(breakLength*60);\n      }\n      else\n      setBreakTimer(prev => prev-1);\n  }, 1000)\n    return () => {\n      clearInterval(myInterval);\n    };\n}\n      \n                \n  },[play,isSession,sessionTimer,breakTimer]);\n  \n  \n  return (\n     <div className=\"banner container-fluid\">\n      <div id=\"clock\">\n      <div className=\"row\">\n        <div className=\"col text-center\">\n      <h1>My pomodoro clock!</h1>\n          <audio id=\"beep\" controls src=\"https://s3.amazonaws.com/freecodecamp/drums/Chord_1.mp3\" ></audio>\n        </div>\n        </div>\n      <div className=\"row\">\n        <div className=\"col\">\n      <Break length={breakLength} increment={handleClickIncrement} decrement={handleClickDecrement}/>\n       </div>\n        <div className=\"col\">\n      <Session length={sessionLength} increment={handleClickIncrement} decrement={handleClickDecrement}/>\n          \n          </div>\n        </div>\n      <div  className=\"row\">\n         <div className=\"col text-right\">\n        <h2 id=\"timer-label\">{isSession ? \"Session\" : \"Break\"}</h2>\n         </div>\n        <div id=\"time-left\" className=\"col text-start\">\n          {isSession ? formatTime(sessionTimer) : formatTime(breakTimer)}\n        </div>\n        </div>\n        <div className=\"row text-center\">\n          <div className=\"col\">\n          <FontAwesomeIcon icon={[\"fas\", \"play\"]} id=\"start_stop\" onClick={handlePressPlay} className=\"icon\"/>\n          <FontAwesomeIcon icon={[\"fas\", \"history\"]} id=\"reset\" onClick={handlePressReset} className=\"icon\"/>\n         </div>\n         </div> \n      </div>\n      </div>\n   )\n \n}\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}